{% extends "base.html" %}

{% block content %}
<div class="container py-5">
  <div class="text-center mb-5">
    <h1 class="fw-bold">Edit Your Study Preferences</h1>
    <p class="text-muted">Customize your study buddy match settings</p>
  </div>

  {% if success %}
    <div class="alert alert-success text-center shadow-sm rounded-3">{{ success }}</div>
  {% endif %}

  <div class="card shadow-sm rounded-4 p-4">
    <form action="{{ url_for('edit_preferences') }}" method="POST">
      <div class="row g-3">
        <div class="col-md-6">
          <label for="subjects" class="form-label">Subjects</label>
          <select class="form-select" id="subjects" name="subjects">
            {% for subject in ["Physics", "Chemistry", "Mathematics", "Biology", "English"] %}
              <option value="{{ subject }}" {% if user.profile and subject == user.profile.subjects %}selected{% endif %}>
                {{ subject }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-6">
          <label for="days_of_week" class="form-label">Days of the Week</label>
          <select class="form-select" id="days_of_week" name="days_of_week">
            {% for day in ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"] %}
              <option value="{{ day }}" {% if user.profile and day == user.profile.days_of_week %}selected{% endif %}>
                {{ day }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-6">
          <label for="availability" class="form-label">Availability</label>
          <select class="form-select" id="availability" name="availability">
            {% for time in ["Morning (8-11 AM)", "Afternoon (12-4 PM)", "Evening (5-8 PM)", "Night (9 PM-12 AM)"] %}
              <option value="{{ time }}" {% if user.profile and time == user.profile.availability %}selected{% endif %}>
                {{ time }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-6">
          <label for="learning_style" class="form-label">Learning Style</label>
          <select class="form-select" id="learning_style" name="learning_style">
            {% for style in ["Auditory", "Visual", "Hands-on", "Reading/Writing"] %}
              <option value="{{ style }}" {% if user.profile and user.profile.learning_style == style %}selected{% endif %}>
                {{ style }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-6">
          <label for="location_type" class="form-label">Preferred Study Locations</label>
          <select class="form-select" id="location_type" name="location_type">
            {% for location in ["Virtual", "in-person"] %}
              <option value="{{ location }}" {% if user.profile and location == user.profile.location_type %}selected{% endif %}>
                {{ location }}
              </option>
            {% endfor %}
          </select>
        </div>

        <div class="col-md-6">
          <label for="location_details" class="form-label">Preferred Communication Methods</label>
          <select class="form-select" id="location_details" name="location_details">
            {% for method in ["In-person", "Zoom", "Discord", "Microsoft Teams", "Slack"] %}
              <option value="{{ method }}" {% if user.profile and method == user.profile.location_details %}selected{% endif %}>
                {{ method }}
              </option>
            {% endfor %}
          </select>
        </div>
      </div>

      <div class="d-flex justify-content-center mt-4">
        <button type="submit" class="btn btn-primary btn-lg rounded-pill shadow-sm px-4">
          Save Changes
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
